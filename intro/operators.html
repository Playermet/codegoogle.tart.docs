<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Operators &mdash; Tart v0.1.1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Tart v0.1.1 documentation" href="../index.html" />
    <link rel="up" title="Introduction to Tart" href="index.html" />
    <link rel="next" title="Attibutes" href="annotations.html" />
    <link rel="prev" title="Statements" href="statements.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="annotations.html" title="Attibutes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="statements.html" title="Statements"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Tart v0.1.1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Introduction to Tart</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="operators">
<span id="index-481"></span><h1>Operators<a class="headerlink" href="#operators" title="Permalink to this headline">¶</a></h1>
<p>Tart supports a rich set of operators:</p>
<table border="1" class="docutils">
<caption>Table of Operator Precedence</caption>
<colgroup>
<col width="18%" />
<col width="45%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Precedence</th>
<th class="head">Operator</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>0</td>
<td><a class="reference external" href="../lang/expressions.html#oper-::"><tt class="xref docutils literal"><span class="pre">::</span></tt></a></td>
<td>(application defined)</td>
</tr>
<tr><td>1</td>
<td><a class="reference external" href="../lang/expressions.html#oper-or"><tt class="xref docutils literal"><span class="pre">or</span></tt></a></td>
<td>logical or</td>
</tr>
<tr><td>2</td>
<td><a class="reference external" href="../lang/expressions.html#oper-and"><tt class="xref docutils literal"><span class="pre">and</span></tt></a></td>
<td>logical &#8216;and&#8217;</td>
</tr>
<tr><td>3</td>
<td><a class="reference external" href="../lang/expressions.html#oper-in"><tt class="xref docutils literal"><span class="pre">in</span></tt></a>, <a class="reference external" href="../lang/expressions.html#oper-notin"><tt class="xref docutils literal"><span class="pre">not</span> <span class="pre">in</span></tt></a></td>
<td>membership test</td>
</tr>
<tr><td>4</td>
<td><tt class="xref docutils literal"><span class="pre">isa</span></tt>, <a class="reference external" href="../lang/expressions.html#oper-is"><tt class="xref docutils literal"><span class="pre">is</span></tt></a>, <tt class="docutils literal"><span class="pre">is</span> <span class="pre">not</span></tt></td>
<td>type testing and reference equality</td>
</tr>
<tr><td>5</td>
<td><a class="reference external" href="../lang/expressions.html#oper-=="><tt class="xref docutils literal"><span class="pre">==</span></tt></a>, <tt class="xref docutils literal"><span class="pre">=</span></tt>, <a class="reference external" href="../lang/expressions.html#oper-&gt;"><tt class="xref docutils literal"><span class="pre">&gt;</span></tt></a>, <tt class="docutils literal"><span class="pre">&lt;</span></tt>, <a class="reference external" href="../lang/expressions.html#oper-&gt;="><tt class="xref docutils literal"><span class="pre">&gt;=</span></tt></a>, <tt class="docutils literal"><span class="pre">&lt;=</span></tt>, <a class="reference external" href="../lang/expressions.html#oper-&gt;?"><tt class="xref docutils literal"><span class="pre">&gt;?</span></tt></a>, <tt class="docutils literal"><span class="pre">&lt;?</span></tt>, <a class="reference external" href="../lang/expressions.html#oper-&gt;=?"><tt class="xref docutils literal"><span class="pre">&gt;=?</span></tt></a>, <tt class="docutils literal"><span class="pre">&lt;=?</span></tt></td>
<td>relational operators</td>
</tr>
<tr><td>6</td>
<td><a class="reference external" href="../lang/expressions.html#oper-|"><tt class="xref docutils literal"><span class="pre">|</span></tt></a></td>
<td>bitwise &#8216;or&#8217;</td>
</tr>
<tr><td>7</td>
<td><a class="reference external" href="../lang/expressions.html#oper-^"><tt class="xref docutils literal"><span class="pre">^</span></tt></a></td>
<td>bitwise &#8216;xor&#8217;</td>
</tr>
<tr><td>8</td>
<td><a class="reference external" href="../lang/expressions.html#oper-&amp;"><tt class="xref docutils literal"><span class="pre">&amp;</span></tt></a></td>
<td>bitwise &#8216;and&#8217;</td>
</tr>
<tr><td>8</td>
<td><a class="reference external" href="../lang/expressions.html#oper-&gt;&gt;"><tt class="xref docutils literal"><span class="pre">&gt;&gt;</span></tt></a>, <a class="reference external" href="../lang/expressions.html#oper-&lt;"><tt class="xref docutils literal"></tt></a></td>
<td>shift operators</td>
</tr>
<tr><td>9</td>
<td><a class="reference external" href="../lang/expressions.html#oper-+"><tt class="xref docutils literal"><span class="pre">+</span></tt></a>, <a class="reference external" href="../lang/expressions.html#oper--"><tt class="xref docutils literal"><span class="pre">-</span></tt></a></td>
<td>additive operators</td>
</tr>
<tr><td>10</td>
<td><a class="reference external" href="../lang/expressions.html#oper-*"><tt class="xref docutils literal"><span class="pre">*</span></tt></a>, <a class="reference external" href="../lang/expressions.html#oper-/"><tt class="xref docutils literal"><span class="pre">/</span></tt></a>, <a class="reference external" href="../lang/expressions.html#oper-%"><tt class="xref docutils literal"><span class="pre">%</span></tt></a></td>
<td>multiplicative operators</td>
</tr>
<tr><td>11</td>
<td><a class="reference external" href="../lang/expressions.html#oper-**"><tt class="xref docutils literal"><span class="pre">**</span></tt></a></td>
<td>exponentiation</td>
</tr>
<tr><td>12</td>
<td><a class="reference external" href="../lang/expressions.html#oper-.."><tt class="xref docutils literal"><span class="pre">..</span></tt></a></td>
<td>range operator</td>
</tr>
<tr><td>13</td>
<td><a class="reference external" href="../lang/expressions.html#oper--"><tt class="xref docutils literal"><span class="pre">-</span></tt></a>, <tt class="xref docutils literal"><span class="pre">not</span></tt>, <tt class="xref docutils literal"><span class="pre">++</span></tt>, <tt class="xref docutils literal"><span class="pre">--</span></tt></td>
<td>unary prefix operators</td>
</tr>
<tr><td>14</td>
<td><tt class="xref docutils literal"><span class="pre">++</span></tt>, <tt class="xref docutils literal"><span class="pre">--</span></tt></td>
<td>unary postfix operators</td>
</tr>
</tbody>
</table>
<div class="section" id="operator-overloading">
<span id="index-482"></span><h2>Operator Overloading<a class="headerlink" href="#operator-overloading" title="Permalink to this headline">¶</a></h2>
<p>Tart supports a limited form of operator overloading. This is important for
things like complex number classes, or vectors - data types which need a way
to define mathematical operations which shouldn&#8217;t be built in to the language.</p>
<p>Unlike C++, however there&#8217;s no special syntax for operator overloading. In
fact the <a class="reference external" href="../lang/expressions.html#oper-+"><tt class="xref docutils literal"><span class="pre">+</span></tt></a> operator is merely syntactic sugar for a call to the
function <tt class="xref docutils literal"><span class="pre">infixAdd()</span></tt>. There are definitions of <tt class="xref docutils literal"><span class="pre">infixAdd()</span></tt> for
all of the built-in number types, and new overloads for user-created types
can be added, either as static overloads or as generic functions. Of course, the
compiler will try to inline such functions whenever possible, so that <tt class="docutils literal"><span class="pre">1</span> <span class="pre">+</span> <span class="pre">2</span></tt>
will still be a compile-time constant.</p>
<p>For example, we can define string concatenation with the <a class="reference external" href="../lang/expressions.html#oper-+"><tt class="xref docutils literal"><span class="pre">+</span></tt></a> operator:</p>
<div class="highlight-tart"><div class="highlight"><pre><span class="k">def</span> <span class="nf">infixAdd</span><span class="p">(</span><span class="nv">s0</span><span class="p">:</span><span class="kt">String</span><span class="p">,</span> <span class="nv">s1</span><span class="p">:</span><span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="k">{</span>
  <span class="k">var</span> <span class="nv">result</span> <span class="o">=</span> <span class="kt">String</span><span class="o">.</span><span class="nv">concat</span><span class="p">(</span><span class="nv">s0</span><span class="p">,</span> <span class="nv">s1</span><span class="p">);</span>
<span class="k">}</span>
</pre></div>
</div>
<p>Refer to the language reference manual section on <a class="reference external" href="../lang/expressions.html#operator-overloading"><em>Operator Overloading</em></a> to see all
of the operator functions and their names.</p>
<p>Tart doesn&#8217;t allow you to arbitrarily define new and strange operators like
some languages do. The reason is because the purpose of a programming language
is to communicate with other programmers as well as communication with machines.
Having a standardized set of punctuation symbols that every programmer can
instantly recognize is an essential part of creating a robust culture of
software developers, and the freedom to reinvent the language syntax hinders
that cultural formation.</p>
<p>But for people who want to experiment with DSLs (Domain Specific
Languages), Tart has a set of semantically unassigned operators - that is,
built-in operators such as <a class="reference external" href="../lang/expressions.html#oper-::"><tt class="xref docutils literal"><span class="pre">::</span></tt></a> which have no predefined meaning. These
operators are available for general application use.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You might wonder what prevents people from redefining these unassigned
operators, or any operator for that matter, in such a way as to make the
code obfuscated and hard to understand. From a technical standpoint, the
answer is &#8220;nothing, really&#8221; - that is always a danger when operator
overloading is permitted. However, Tart defines a set of conventions
for the use of operators that all users of the language are encouraged to follow.
These conventions are defined in the language reference manual, in the
section on <a class="reference external" href="../lang/expressions.html#operator-overloading"><em>Operator Overloading</em></a></p>
</div>
</div>
<div class="section" id="callable-objects">
<span id="index-483"></span><h2>Callable Objects<a class="headerlink" href="#callable-objects" title="Permalink to this headline">¶</a></h2>
<p>To make an object callable, define a member function with no name:</p>
<div class="highlight-tart"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Foo</span> <span class="k">{</span>
  <span class="k">def</span> <span class="p">(</span><span class="nv">s</span><span class="p">:</span><span class="kt">String</span><span class="p">)</span> <span class="k">{</span>
    <span class="c">// ...</span>
  <span class="k">}</span>
<span class="k">}</span>

<span class="nv">f</span> <span class="o">=</span> <span class="nv">Foo</span><span class="p">();</span>
<span class="nv">f</span><span class="p">(</span><span class="s">&quot;Hey there&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="subscriptable-objects">
<span id="index-484"></span><h2>Subscriptable Objects<a class="headerlink" href="#subscriptable-objects" title="Permalink to this headline">¶</a></h2>
<p>You can also overload the array subscript operator. The syntax is similar to
defining a property:</p>
<div class="highlight-tart"><div class="highlight"><pre><span class="k">class</span> <span class="nc">StringMap</span><span class="p">[</span><span class="nc">%T</span><span class="p">]</span> <span class="k">{</span>
  <span class="k">def</span> <span class="p">[</span><span class="nc">key</span><span class="p">:</span><span class="kt">String</span><span class="p">]:</span><span class="nv">T</span> <span class="k">{</span>
    <span class="k">get</span> <span class="k">{</span> <span class="c">/* getter code */</span> <span class="k">}</span>
    <span class="k">set</span> <span class="k">{</span> <span class="c">/* setter code */</span> <span class="k">}</span>
  <span class="k">}</span>
<span class="k">}</span>

<span class="nv">m</span> <span class="o">=</span> <span class="nv">StringMap</span><span class="p">();</span>
<span class="k">let</span> <span class="nv">result</span> <span class="o">=</span> <span class="nv">m</span><span class="p">[</span><span class="s">&quot;first&quot;</span><span class="p">];</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="#">Operators</a><ul>
<li><a class="reference external" href="#operator-overloading">Operator Overloading</a></li>
<li><a class="reference external" href="#callable-objects">Callable Objects</a></li>
<li><a class="reference external" href="#subscriptable-objects">Subscriptable Objects</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="statements.html"
                                  title="previous chapter">Statements</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="annotations.html"
                                  title="next chapter">Attibutes</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/intro/operators.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="annotations.html" title="Attibutes"
             >next</a> |</li>
        <li class="right" >
          <a href="statements.html" title="Statements"
             >previous</a> |</li>
        <li><a href="../index.html">Tart v0.1.1 documentation</a> &raquo;</li>
          <li><a href="index.html" >Introduction to Tart</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2008-2011, Talin.
      Last updated on Apr 02, 2011.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.6.
    </div>
  </body>
</html>